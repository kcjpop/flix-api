---
import Doc from './Doc.astro'
import Signature from './Signature.astro'
import Source from './Source.astro'
import SourceGrid from './SourceGrid.astro'

const { defs, classList, summary, open = false } = Astro.props
---

{
  defs?.length > 0 && (
    <details class:list={classList} open={open}>
      <summary class="mb-3">{summary}</summary>

      <div class="grid gap-2 stripped">
        {defs.map((sig) => (
          <div class="p-2">
            <SourceGrid>
              <Signature sig={sig} />
              <Source loc={sig.loc} />
            </SourceGrid>
            <div class="pl-3">
              <Doc doc={sig.doc} />
            </div>
          </div>
        ))}
      </div>
    </details>
  )
}
